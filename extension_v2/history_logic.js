const a0_0x5e1f41=a0_0x46f1;(function(_0x28a62e,_0x325c83){const _0x533c93=a0_0x46f1,_0x389225=_0x28a62e();while(!![]){try{const _0x1554d0=-parseInt(_0x533c93(0x1a1))/0x1*(-parseInt(_0x533c93(0x198))/0x2)+-parseInt(_0x533c93(0x179))/0x3+parseInt(_0x533c93(0x14c))/0x4*(parseInt(_0x533c93(0x15e))/0x5)+parseInt(_0x533c93(0x192))/0x6+parseInt(_0x533c93(0x169))/0x7*(-parseInt(_0x533c93(0x190))/0x8)+parseInt(_0x533c93(0x155))/0x9*(-parseInt(_0x533c93(0x19d))/0xa)+-parseInt(_0x533c93(0x172))/0xb*(parseInt(_0x533c93(0x154))/0xc);if(_0x1554d0===_0x325c83)break;else _0x389225['push'](_0x389225['shift']());}catch(_0x88eb22){_0x389225['push'](_0x389225['shift']());}}}(a0_0x2557,0x2afd2));let currentChatId=null;chrome['storage'][a0_0x5e1f41(0x193)][a0_0x5e1f41(0x176)]([a0_0x5e1f41(0x16b),a0_0x5e1f41(0x17a)],_0x5ed5bd=>{const _0x31d84f=a0_0x5e1f41;if(_0x5ed5bd[_0x31d84f(0x16b)]&&_0x5ed5bd[_0x31d84f(0x17a)]){const _0x142c8d=_0x5ed5bd['chatHistory'][_0x31d84f(0x199)](_0x1714f7=>_0x1714f7['id']===_0x5ed5bd['lastActiveChatId']);_0x142c8d?loadChat(_0x142c8d,![]):currentChatId=Date[_0x31d84f(0x185)]()['toString']();}else currentChatId=Date[_0x31d84f(0x185)]()[_0x31d84f(0x19f)]();});function saveCurrentChat(){const _0x14ffdb=a0_0x5e1f41,_0x3c4231={'VdGzW':_0x14ffdb(0x175),'EVYLo':function(_0x93bdc5,_0x10c9ae){return _0x93bdc5>_0x10c9ae;},'wNySG':function(_0x2e4b6a,_0x3603f6){return _0x2e4b6a===_0x3603f6;},'NoneS':_0x14ffdb(0x17a)},_0x4de632=[],_0x2c0109=chatContainer[_0x14ffdb(0x170)](_0x14ffdb(0x181));let _0x6034e5=![];_0x2c0109['forEach'](_0x5f26c8=>{const _0x2260b1=_0x14ffdb;if(_0x5f26c8[_0x2260b1(0x17b)][_0x2260b1(0x14e)](_0x2260b1(0x171)))return;const _0x2f979f=_0x5f26c8[_0x2260b1(0x17b)][_0x2260b1(0x14e)](_0x2260b1(0x175))?_0x3c4231[_0x2260b1(0x1a3)]:'assistant',_0x6916d4=_0x5f26c8['querySelector'](_0x2260b1(0x177));if(_0x6916d4){_0x4de632['push']({'type':_0x2f979f,'text':_0x6916d4[_0x2260b1(0x156)],'timestamp':Date['now']()});if(_0x2f979f===_0x2260b1(0x175))_0x6034e5=!![];}});if(!_0x6034e5||_0x3c4231['wNySG'](_0x4de632[_0x14ffdb(0x183)],0x0))return;const _0x47a526=_0x4de632['find'](_0xa79982=>_0xa79982['type']===_0x14ffdb(0x175));let _0x1d2310=_0x14ffdb(0x157);_0x47a526&&(_0x1d2310=_0x47a526[_0x14ffdb(0x164)][_0x14ffdb(0x160)](0x0,0x28)+(_0x47a526[_0x14ffdb(0x164)][_0x14ffdb(0x183)]>0x28?_0x14ffdb(0x186):''));const _0x4982c5={'id':currentChatId||Date[_0x14ffdb(0x185)]()[_0x14ffdb(0x19f)](),'title':_0x1d2310,'messages':_0x4de632,'updatedAt':Date[_0x14ffdb(0x185)]()};if(!currentChatId)currentChatId=_0x4982c5['id'];chrome[_0x14ffdb(0x163)]['local']['get']([_0x3c4231['NoneS']],_0x5a333a=>{const _0x54145d=_0x14ffdb;let _0x5e8363=_0x5a333a[_0x54145d(0x17a)]||[];_0x5e8363=_0x5e8363[_0x54145d(0x18f)](_0x580a55=>_0x580a55['id']!==currentChatId),_0x5e8363[_0x54145d(0x1a7)](_0x4982c5);if(_0x3c4231[_0x54145d(0x184)](_0x5e8363[_0x54145d(0x183)],0x32))_0x5e8363[_0x54145d(0x17c)]();chrome[_0x54145d(0x163)][_0x54145d(0x193)][_0x54145d(0x15c)]({'chatHistory':_0x5e8363,'lastActiveChatId':currentChatId});});}function a0_0x2557(){const _0x5dd06c=['IienC','lastActiveChatId','querySelector','click','new-chat-btn','toLocaleDateString','querySelectorAll','system','4891370vqxjYb','qtljR','style','user','get','.message-content','createElement','471546AGNBUv','chatHistory','classList','pop','GnkyZ','pt-BR','delete-chat-btn','Vjdth','.message','ULUfs','length','EVYLo','now','...','ukvvq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:\x201;\x20overflow:\x20hidden;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22title\x22>','scrollTop','addEventListener','Novo\x20chat\x20iniciado.','XnBod','messages','innerHTML','filter','3568Bwllam','type','1951464TdQuWU','local','title','close-history-btn','stopPropagation','target','2ZZogja','find','history-list','forEach','qqQrL','83540OCaPpM','getElementById','toString','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-chat-btn\x22\x20title=\x22Excluir\x20Chat\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','217578TBYEqo','split','VdGzW','<div\x20class=\x22empty-history\x22>Nenhum\x20hist√≥rico.</div>','display','UovjG','unshift','div','12cNADiC','history-item','contains','SZFWf','scrollHeight','message\x20system','hKebz','</div>','12ssCmlx','27oiBtXS','textContent','Novo\x20Chat','className','none','uMulO','2-digit','set','history-modal','499780zcAFdY','csfmp','substring','AAUVB','0|3|1|4|2','storage','text','MAXkc','geTXS','history-btn','appendChild','623IsgNlz'];a0_0x2557=function(){return _0x5dd06c;};return a0_0x2557();}function loadChat(_0x4c6adf,_0x56ae8e=!![]){const _0x358092=a0_0x5e1f41,_0x1ad066={'MAXkc':function(_0x26aa75){return _0x26aa75();},'csfmp':_0x358092(0x14b)};if(_0x56ae8e)_0x1ad066[_0x358092(0x165)](saveCurrentChat);currentChatId=_0x4c6adf['id'],chatContainer[_0x358092(0x18e)]='';const _0x3a1e10=document[_0x358092(0x178)](_0x1ad066[_0x358092(0x15f)]);_0x3a1e10[_0x358092(0x158)]=_0x358092(0x151),_0x3a1e10[_0x358092(0x18e)]='<div\x20class=\x22message-content\x22>Chat\x20carregado:\x20'+_0x4c6adf[_0x358092(0x194)]+_0x358092(0x153),chatContainer['appendChild'](_0x3a1e10),_0x4c6adf[_0x358092(0x18d)][_0x358092(0x19b)](_0x40d303=>{const _0x187e1d=_0x358092;addMessage(_0x40d303[_0x187e1d(0x164)],_0x40d303[_0x187e1d(0x191)]);}),chatContainer[_0x358092(0x189)]=chatContainer[_0x358092(0x150)],chrome[_0x358092(0x163)][_0x358092(0x193)][_0x358092(0x15c)]({'lastActiveChatId':currentChatId}),document[_0x358092(0x19e)](_0x358092(0x15d))[_0x358092(0x174)]['display']='none';}function createNewChat(){const _0xbec116=a0_0x5e1f41,_0x303bb5={'xaiyB':_0xbec116(0x162),'FpxDg':_0xbec116(0x18b)},_0x33fbc4=_0x303bb5['xaiyB'][_0xbec116(0x1a2)]('|');let _0x362550=0x0;while(!![]){switch(_0x33fbc4[_0x362550++]){case'0':saveCurrentChat();continue;case'1':chatContainer[_0xbec116(0x18e)]='';continue;case'2':chrome[_0xbec116(0x163)][_0xbec116(0x193)][_0xbec116(0x15c)]({'lastActiveChatId':currentChatId});continue;case'3':currentChatId=Date[_0xbec116(0x185)]()['toString']();continue;case'4':addSystemMessage(_0x303bb5['FpxDg']);continue;}break;}}const newChatBtn=document[a0_0x5e1f41(0x19e)](a0_0x5e1f41(0x16e));newChatBtn&&newChatBtn[a0_0x5e1f41(0x18a)](a0_0x5e1f41(0x16d),()=>{createNewChat();});function a0_0x46f1(_0x350322,_0x12a82e){_0x350322=_0x350322-0x14b;const _0x2557db=a0_0x2557();let _0x46f1cc=_0x2557db[_0x350322];return _0x46f1cc;}const historyBtn=document[a0_0x5e1f41(0x19e)](a0_0x5e1f41(0x167)),historyModal=document[a0_0x5e1f41(0x19e)](a0_0x5e1f41(0x15d)),closeHistoryBtn=document[a0_0x5e1f41(0x19e)](a0_0x5e1f41(0x195)),historyList=document['getElementById'](a0_0x5e1f41(0x19a));historyBtn&&historyBtn['addEventListener']('click',()=>{const _0x40f8e9=a0_0x5e1f41,_0x289a78={'ULUfs':function(_0x59efa0){return _0x59efa0();},'qqQrL':function(_0x1a9bdb,_0x39a658){return _0x1a9bdb===_0x39a658;},'lDYxf':_0x40f8e9(0x17d),'geTXS':_0x40f8e9(0x159),'jLedD':'flex'};if(_0x289a78[_0x40f8e9(0x19c)](historyModal[_0x40f8e9(0x174)][_0x40f8e9(0x1a5)],'flex')){if(_0x289a78['lDYxf']===_0x40f8e9(0x17d))historyModal[_0x40f8e9(0x174)]['display']=_0x289a78[_0x40f8e9(0x166)];else{const _0x725b89={'ukvvq':function(_0x3f7240){const _0x22e056=_0x40f8e9;return _0x289a78[_0x22e056(0x182)](_0x3f7240);}};let _0x3e73a3=_0x5ef2bd[_0x40f8e9(0x17a)]||[];_0x3e73a3=_0x3e73a3['filter'](_0x17b4ca=>_0x17b4ca['id']!==_0x5cccea),_0x146991[_0x40f8e9(0x163)][_0x40f8e9(0x193)][_0x40f8e9(0x15c)]({'chatHistory':_0x3e73a3},()=>{const _0x3ac215=_0x40f8e9;_0x725b89[_0x3ac215(0x187)](_0x2a9e4d),_0x168e00===_0x4241e1&&_0x1154e5();});}}else historyModal[_0x40f8e9(0x174)][_0x40f8e9(0x1a5)]=_0x289a78['jLedD'],renderHistoryList();});closeHistoryBtn&&closeHistoryBtn[a0_0x5e1f41(0x18a)](a0_0x5e1f41(0x16d),()=>{const _0x396697=a0_0x5e1f41;historyModal[_0x396697(0x174)][_0x396697(0x1a5)]='none';});function renderHistoryList(){const _0x42ad4d=a0_0x5e1f41,_0x37bf03={'qtljR':_0x42ad4d(0x15b),'SZFWf':'.delete-chat-btn','thmHw':'click','DXByO':_0x42ad4d(0x1a4),'AAUVB':_0x42ad4d(0x17a)};historyList[_0x42ad4d(0x18e)]='',chrome[_0x42ad4d(0x163)][_0x42ad4d(0x193)][_0x42ad4d(0x176)]([_0x37bf03[_0x42ad4d(0x161)]],_0x4f84e7=>{const _0xc832e2=_0x42ad4d,_0x1ea9cc={'XnBod':_0xc832e2(0x17f)},_0x5d7968=_0x4f84e7['chatHistory']||[];if(_0x5d7968[_0xc832e2(0x183)]===0x0){historyList[_0xc832e2(0x18e)]=_0x37bf03['DXByO'];return;}_0x5d7968[_0xc832e2(0x19b)](_0x2f3f06=>{const _0xf39c03=_0xc832e2,_0x29a8b7={'uMulO':function(_0x265758,_0x5e224c){return _0x265758(_0x5e224c);}},_0x1965dd=document[_0xf39c03(0x178)](_0xf39c03(0x14b));_0x1965dd['className']=_0xf39c03(0x14d);const _0x54ca59=new Date(_0x2f3f06['updatedAt'])[_0xf39c03(0x16f)](_0xf39c03(0x17e),{'day':_0x37bf03['qtljR'],'month':_0xf39c03(0x15b),'hour':_0xf39c03(0x15b),'minute':_0x37bf03[_0xf39c03(0x173)]});_0x1965dd[_0xf39c03(0x18e)]=_0xf39c03(0x188)+_0x2f3f06['title']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22date\x22>'+_0x54ca59+_0xf39c03(0x1a0),_0x1965dd[_0xf39c03(0x18a)]('click',_0x46872c=>{const _0x478377=_0xf39c03;if(_0x46872c[_0x478377(0x197)][_0x478377(0x17b)]['contains'](_0x1ea9cc[_0x478377(0x18c)]))return;loadChat(_0x2f3f06);});const _0x3d474a=_0x1965dd[_0xf39c03(0x16c)](_0x37bf03[_0xf39c03(0x14f)]);_0x3d474a[_0xf39c03(0x18a)](_0x37bf03['thmHw'],_0x1f8126=>{const _0x3e5a99=_0xf39c03;_0x1f8126[_0x3e5a99(0x196)](),_0x29a8b7[_0x3e5a99(0x15a)](deleteChat,_0x2f3f06['id']);}),historyList[_0xf39c03(0x168)](_0x1965dd);});});}function deleteChat(_0x47989f){const _0x2f085c=a0_0x5e1f41;chrome[_0x2f085c(0x163)][_0x2f085c(0x193)][_0x2f085c(0x176)]([_0x2f085c(0x17a)],_0x38afe1=>{const _0x49c88d=_0x2f085c,_0x324403={'hKebz':function(_0x1a4978){return _0x1a4978();},'kjbaC':_0x49c88d(0x1a6)};let _0x4908b4=_0x38afe1[_0x49c88d(0x17a)]||[];_0x4908b4=_0x4908b4['filter'](_0x3b289b=>_0x3b289b['id']!==_0x47989f),chrome[_0x49c88d(0x163)]['local'][_0x49c88d(0x15c)]({'chatHistory':_0x4908b4},()=>{const _0x2d387b=_0x49c88d;if(_0x2d387b(0x180)!=='VuKyd')_0x324403[_0x2d387b(0x152)](renderHistoryList),currentChatId===_0x47989f&&(_0x324403['kjbaC']!==_0x2d387b(0x16a)?_0x324403['hKebz'](createNewChat):_0x29756f['style'][_0x2d387b(0x1a5)]=_0x2d387b(0x159));else{const _0x5939a7=_0x450803[_0x2d387b(0x17a)][_0x2d387b(0x199)](_0xf8a691=>_0xf8a691['id']===_0x265335[_0x2d387b(0x16b)]);_0x5939a7?_0x291ea1(_0x5939a7,![]):_0x184bf3=_0x55509f['now']()[_0x2d387b(0x19f)]();}});});}