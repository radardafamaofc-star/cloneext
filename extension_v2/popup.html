<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lovable Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles_append.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Header -->
    <div class="header">
        <div class="header-top">
            <div class="user-profile">
                <!-- Placeholder Avatar -->
                <div class="logo-container">
                    <img src="logo.png" class="logo-full" alt="Lovable Infinite">
                    <img src="ICONS/icon.png" class="logo-icon" alt="Lovable Infinite">
                </div>
                <div class="user-info-text">

                    <div id="license-type-display" class="countdown-wrapper">
                        <div class="countdown-blocks">
                            <div class="countdown-block">
                                <span class="countdown-value" id="cd-days">--</span>
                                <span class="countdown-label">dias</span>
                            </div>
                            <span class="countdown-sep">:</span>
                            <div class="countdown-block">
                                <span class="countdown-value" id="cd-hours">--</span>
                                <span class="countdown-label">hrs</span>
                            </div>
                            <span class="countdown-sep">:</span>
                            <div class="countdown-block">
                                <span class="countdown-value" id="cd-mins">--</span>
                                <span class="countdown-label">min</span>
                            </div>
                            <span class="countdown-sep">:</span>
                            <div class="countdown-block">
                                <span class="countdown-value" id="cd-secs">--</span>
                                <span class="countdown-label">seg</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="header-actions">
                <button class="notif-bell-btn" id="notif-bell-btn" data-tooltip="Notificações">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span class="notif-badge" id="notif-badge" style="display: none;">0</span>
                </button>
                <div class="header-badge neon-badge" id="credits-badge" data-tooltip="Créditos Restantes">
                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                    </svg>
                    <span class="credits-value">...</span>
                </div>
            </div>
        </div>
    </div> <!-- END OF HEADER -->

    <!-- Área de Chat -->
    <div class="chat-container" id="chat-container">
        <div class="message system">
            <div class="message-content">Bem-vindo ao Lovable Infinite V1</div>
        </div>
    </div>

    <!-- Footer: Toolbar + Input -->
    <div class="footer-container">


        <!-- Toolbar -->
        <div class="toolbar">
            <div class="tool-group">
                <button class="tool-new-project" id="new-project-btn" data-tooltip="Novo Projeto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10" />
                        <line x1="12" y1="8" x2="12" y2="16" />
                        <line x1="8" y1="12" x2="16" y2="12" />
                    </svg>
                </button>
                <button class="tool-btn" id="history-btn" data-tooltip="Histórico">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                </button>
                <button class="tool-btn" id="mic-btn" data-tooltip="Voz">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" />
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                        <line x1="12" y1="19" x2="12" y2="23" />
                        <line x1="8" y1="23" x2="16" y2="23" />
                    </svg>
                </button>
                <button class="tool-btn" id="attach-btn" data-tooltip="Anexar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path
                            d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.51a2 2 0 0 1-2.83-2.83l8.49-8.48" />
                    </svg>
                </button>
                <button class="tool-btn special" id="new-chat-btn" data-tooltip="Limpar Chat">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-trash2-icon lucide-trash-2">
                        <path d="M10 11v6" />
                        <path d="M14 11v6" />
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" />
                        <path d="M3 6h18" />
                        <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                    </svg>
                </button>
            </div>

            <div class="tool-group">


                <!-- Publish Button (Green) -->
                <button class="tool-btn publish-btn" id="publish-btn" data-tooltip="Publicar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"></path>
                        <path d="M12 12v9"></path>
                        <path d="m16 16-4-4-4 4"></path>
                    </svg>
                    <span class="hidden-small">Publish</span>
                </button>

                <!-- Download Project Button -->
                <button class="tool-btn download-btn" id="download-project-btn" data-tooltip="Baixar ZIP">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </button>

                <!-- Remove Watermark Button (Ghost) -->
                <button class="tool-btn watermark-btn" id="remove-watermark-btn" data-tooltip="Remover Marca D'água">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2-2v10"></path>
                        <path d="M21 15v6"></path>
                        <path d="m24 18-3-3-3 3"></path>
                    </svg>
                </button>

            </div>
        </div>

        <!-- Input Wrapper -->
        <div class="input-wrapper">
            <div id="file-preview-container" class="file-preview-area"></div>

            <textarea id="message-input" placeholder="Digite sua mensagem..." rows="1"></textarea>

            <div class="input-actions-bar">
                <div class="actions-left">
                    <!-- Enhance Button (Sparkles) -->
                    <button class="enhance-btn" id="enhance-btn" title="Melhorar com IA">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z">
                            </path>
                        </svg>
                    </button>
                    <!-- Undo Button (Initially Hidden) -->
                    <button class="undo-btn" id="undo-btn" title="Desfazer alteração">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 7v6h6"></path>
                            <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"></path>
                        </svg>
                    </button>
                </div>

                <div class="actions-right">
                    <button id="send-btn" class="send-btn-small" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="22" y1="2" x2="11" y2="13" />
                            <polygon points="22 2 15 22 11 13 2 9 22 2" />
                        </svg>
                        Enviar
                    </button>
                </div>
            </div>
        </div>

    </div>

    <div class="notif-overlay" id="notif-overlay" style="display: none;"></div>
    <div class="notif-drawer" id="notif-drawer">
        <div class="notif-drawer-header">
            <div class="notif-drawer-title">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <span>Notificações</span>
            </div>
            <button class="notif-drawer-close" id="notif-drawer-close">&times;</button>
        </div>
        <div class="notif-drawer-list" id="notif-drawer-list">
            <div class="notif-empty">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                    style="opacity: 0.3;">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <span>Nenhuma notificação</span>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div id="history-modal" class="history-modal" style="display: none;">
        <div class="history-header">
            <h3>Histórico</h3>
            <button id="close-history-btn" class="close-btn">&times;</button>
        </div>
        <div class="history-list" id="history-list">
            <div class="empty-history">Nenhum histórico recente</div>
        </div>
    </div>

    <!-- Image Lightbox Modal -->
    <div id="image-modal" class="image-modal" style="display: none;">
        <span class="close-image-modal" id="close-image-btn">&times;</span>
        <img class="image-modal-content" id="modal-img">
    </div>


    <!-- Overlay de Validação -->
    <div id="update-modal" class="update-modal" style="display: none;">
        <div class="update-modal-content">
            <div class="update-modal-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
            </div>
            <h3 class="update-modal-title">Atualização Disponível</h3>
            <p class="update-modal-text">Uma nova versão <span id="update-new-version"
                    class="update-version-tag"></span> está disponível. Atualize para ter acesso às últimas melhorias.
            </p>
            <button id="update-download-btn" class="update-download-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                Baixar Atualização
            </button>
        </div>
    </div>

    <div id="loading-overlay"
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #050607; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100;">
        <div class="loading-spinner"
            style="display: block; width: 24px; height: 24px; border: 2px solid rgba(0,229,153,0.1); border-top-color: #00e599; border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 12px;">
        </div>
        <span style="font-size: 13px; color: #94a3b8;">Verificando licença...</span>
    </div>

    <script src="jszip.min.js"></script>
    <script src="config.js"></script>
    <script src="popup.js"></script>

</body>

</html>